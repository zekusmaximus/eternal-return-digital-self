import{j as a}from"./three-vendor-rJ5vKMTC.js";import{u as N,b as l}from"./react-vendor-DaKsb8LL.js";import{H as j,i as f}from"./constellation-CzSJAdlk.js";import{a as v}from"./node-view-XdiLjT_l.js";const E=({nodeId:i,strangeAttractors:h,mode:n="breadcrumbs"})=>{const p=N(),[r,g]=l.useState(!1),c=v(j)||[],[u,x]=l.useState([]),d=()=>{g(!r)},m=e=>{p(f(e)),o(`Engaged with ${t(e)}`)},t=e=>e.replace(/-/g," ").split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "),o=e=>{x(s=>[e,...s].slice(0,10))};l.useEffect(()=>{i&&o(`Viewing node: ${i}`)},[i]);const b=(e,s)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),s())};return a.jsxs("div",{className:`marginalia-sidebar ${r?"visible":""}`,children:[a.jsx("div",{className:"marginalia-toggle",onClick:d,onKeyDown:e=>b(e,d),tabIndex:0,role:"button","aria-label":r?"Close marginalia sidebar":"Open marginalia sidebar",children:r?"›":"‹"}),a.jsxs("div",{className:"marginalia-content",children:[n==="breadcrumbs"&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"marginalia-header",children:"Recent Journey"}),a.jsxs("ul",{className:"sidebar-breadcrumb-list",children:[c.map(e=>a.jsxs("li",{className:"sidebar-breadcrumb",children:[a.jsx("span",{className:"sidebar-breadcrumb__title",children:e.title}),a.jsx("span",{className:"sidebar-breadcrumb__synopsis",children:e.synopsis})]},e.id)),c.length===0&&a.jsx("li",{className:"sidebar-breadcrumb sidebar-breadcrumb--empty",children:"No history yet."})]})]}),n!=="breadcrumbs"&&a.jsxs("div",{className:"sidebar-placeholder",children:[a.jsx("h3",{className:"marginalia-header",children:"Strange Attractors"}),a.jsx("div",{className:"strange-attractors-list",children:h.map(e=>a.jsx("div",{className:"strange-attractor-item",onClick:()=>m(e),onKeyDown:s=>b(s,()=>m(e)),tabIndex:0,role:"button","aria-label":`Engage attractor ${t(e)}`,children:t(e)},e))}),a.jsx("h3",{className:"marginalia-header",children:"Reader Notes"}),a.jsx("div",{className:"reader-notes",children:u.map((e,s)=>a.jsxs("div",{className:"reader-note",children:[e,a.jsx("div",{className:"reader-note-timestamp",children:new Date().toLocaleTimeString()})]},s))})]})]})]})};export{E as default};
//# sourceMappingURL=MarginaliaSidebar-CTlZkFAr.js.map
