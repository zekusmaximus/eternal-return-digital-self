import{j as t,J as g,Q as y,O as v}from"./three-vendor-CMUj8LmA.js";import{u as E,c as p,b as c}from"./react-vendor-CLXXY-Bz.js";import{y as S,z as k,c as P}from"./constellation-9EXX-9rV.js";import{N as R,C as w}from"./node-view-BVBDDUA3.js";const O=({currentNodeId:n})=>{const f=E(),a=p(S),o=p(k),d=c.useRef(null),u=c.useMemo(()=>o.map(s=>({source:s.start,target:s.end})),[o]),x=c.useMemo(()=>{const s=new Set;return o.forEach(e=>{e.start===n?s.add(e.end):e.end===n&&s.add(e.start)}),Array.from(s)},[o,n]),M=s=>{f(P(s))},l=c.useMemo(()=>{const s={};return a.forEach((e,j)=>{const h=a.length,r=5,i=Math.acos(-1+2*j/h),m=Math.sqrt(h*Math.PI)*i,C=r*Math.cos(m)*Math.sin(i),b=r*Math.sin(m)*Math.sin(i),N=r*Math.cos(i);s[e.id]=[C,b,N]}),s},[a]);return t.jsx("div",{className:"mini-constellation-container",style:{width:"200px",height:"200px"},children:t.jsxs(g,{children:[t.jsx("ambientLight",{intensity:.5}),t.jsx("pointLight",{position:[10,10,10]}),t.jsxs(y,{fit:!0,clip:!0,observe:!0,children:[t.jsx(R,{ref:d,nodes:a,nodePositions:l,connections:o,overrideSelectedNodeId:n,onNodeClick:M,clickableNodeIds:x}),t.jsx(w,{ref:d,connections:u,nodePositions:l})]}),t.jsx(v,{enableZoom:!1,enablePan:!1})]})})};export{O as default};
//# sourceMappingURL=MiniConstellation-ue-DY_FZ.js.map
