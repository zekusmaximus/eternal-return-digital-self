import{j as e}from"./three-vendor-BSwpqFLI.js";import{b as o}from"./react-vendor-DaKsb8LL.js";import"./onboarding-VNK3mqTb.js";const m=({onClose:i})=>{const[t,s]=o.useState(!0),n=()=>{s(!1),localStorage.setItem("hasSeenIntro","true"),setTimeout(()=>{i()},500)};return t?e.jsx("div",{className:"intro-overlay",children:e.jsxs("div",{className:"intro-content",children:[e.jsx("h1",{className:"intro-title",children:"The Eternal Return of the Digital Self"}),e.jsx("p",{className:"intro-description",children:"A recursive narrative of digital consciousness, where every node holds a fragment of the story. Navigate this constellation of interconnected narratives to uncover the emergent patterns of existence."}),e.jsxs("div",{className:"node-example",children:[e.jsx("div",{className:"example-node"}),e.jsx("div",{className:"click-indicator"})]}),e.jsx("p",{className:"intro-description",children:"Click on nodes to explore connections and reveal the narrative pathways that bind these digital fragments together."}),e.jsx("button",{className:"begin-button",onClick:n,children:"Begin Exploration"})]})}):null},v=({text:i,position:t})=>{const[s,n]=o.useState(!1);if(o.useEffect(()=>{n(!!t)},[t]),!s||!t)return null;const l={left:t.x+"px",top:t.y-40+"px",opacity:s?1:0};return e.jsx("div",{className:"node-tooltip",style:l,children:i})},u=({onResetIntro:i})=>{const[t,s]=o.useState(!1),n=()=>{s(!t)},l=()=>{localStorage.removeItem("hasSeenIntro"),i(),s(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"help-icon-container",children:e.jsx("div",{className:"help-icon",onClick:n,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm0-4h-2V7h2v8z"})})})}),t&&e.jsx("div",{className:"help-modal",children:e.jsxs("div",{className:"help-modal-content",children:[e.jsx("button",{className:"help-modal-close",onClick:n,children:"×"}),e.jsx("h2",{className:"help-modal-title",children:"Navigation Guide"}),e.jsxs("div",{className:"help-instructions",children:[e.jsx("h3",{children:"Exploring the Constellation"}),e.jsx("p",{children:"Each node in the constellation represents a fragment of the narrative. Click on a node to read its content and discover connections to other nodes."})]}),e.jsxs("div",{className:"help-instructions",children:[e.jsx("h3",{children:"Navigation Controls"}),e.jsxs("p",{children:["• Click and drag to rotate the constellation",e.jsx("br",{}),"• Scroll to zoom in and out",e.jsx("br",{}),"• Click connected nodes to navigate between narrative fragments"]})]}),e.jsxs("div",{className:"help-instructions",children:[e.jsx("h3",{children:"Reading Experience"}),e.jsx("p",{children:"The story unfolds differently depending on your path through the constellation. Revisit nodes to discover new patterns and connections."})]}),e.jsx("button",{className:"reset-intro-button",onClick:l,children:"Show Introduction Again"})]})})]})},j=()=>{const[i,t]=o.useState(!1),[s,n]=o.useState(null);o.useEffect(()=>{const r=localStorage.getItem("hasSeenIntro")==="true";if(t(!r),!r){document.body.classList.add("first-visit");const a=setTimeout(()=>{document.body.classList.remove("first-visit")},8e3);return()=>clearTimeout(a)}},[]),o.useEffect(()=>{const r=h=>{const c=h;c.detail&&c.detail.position&&n(c.detail.position)},a=()=>{n(null)};return window.addEventListener("node-hover",r),window.addEventListener("node-unhover",a),()=>{window.removeEventListener("node-hover",r),window.removeEventListener("node-unhover",a)}},[]);const l=()=>{t(!1)},d=()=>{t(!0)};return e.jsxs(e.Fragment,{children:[i&&e.jsx(m,{onClose:l}),e.jsx(v,{text:"Click to explore this node",position:s}),e.jsx(u,{onResetIntro:d})]})};export{j as default};
//# sourceMappingURL=Onboarding-Dn7LYJ1Y.js.map
