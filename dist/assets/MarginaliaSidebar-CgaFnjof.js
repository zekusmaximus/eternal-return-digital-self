import{j as e}from"./three-vendor-rJ5vKMTC.js";import{u as N,b as t}from"./react-vendor-DaKsb8LL.js";import{G as j,i as u}from"./constellation-D8AaAQ1t.js";import{a as f}from"./node-view-GFMNrUCl.js";const C=({nodeId:r,strangeAttractors:m,mode:c="breadcrumbs"})=>{const o=N(),[i,b]=t.useState(!1),l=f(j)||[],[h,p]=t.useState([]),g=()=>{b(!i)},x=s=>{o(u(s)),d(`Engaged with ${n(s)}`)},n=s=>s.replace(/-/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" "),d=s=>{p(a=>[s,...a].slice(0,10))};return t.useEffect(()=>{r&&d(`Viewing node: ${r}`)},[r]),e.jsxs("div",{className:`marginalia-sidebar ${i?"visible":""}`,children:[e.jsx("div",{className:"marginalia-toggle",onClick:g,children:i?"›":"‹"}),e.jsxs("div",{className:"marginalia-content",children:[c==="breadcrumbs"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"marginalia-header",children:"Recent Journey"}),e.jsxs("ul",{className:"sidebar-breadcrumb-list",children:[l.map(s=>e.jsxs("li",{className:"sidebar-breadcrumb",children:[e.jsx("span",{className:"sidebar-breadcrumb__title",children:s.title}),e.jsx("span",{className:"sidebar-breadcrumb__synopsis",children:s.synopsis})]},s.id)),l.length===0&&e.jsx("li",{className:"sidebar-breadcrumb sidebar-breadcrumb--empty",children:"No history yet."})]})]}),c!=="breadcrumbs"&&e.jsxs("div",{className:"sidebar-placeholder",children:[e.jsx("h3",{className:"marginalia-header",children:"Strange Attractors"}),e.jsx("div",{className:"strange-attractors-list",children:m.map(s=>e.jsx("div",{className:"strange-attractor-item",onClick:()=>x(s),children:n(s)},s))}),e.jsx("h3",{className:"marginalia-header",children:"Reader Notes"}),e.jsx("div",{className:"reader-notes",children:h.map((s,a)=>e.jsxs("div",{className:"reader-note",children:[s,e.jsx("div",{className:"reader-note-timestamp",children:new Date().toLocaleTimeString()})]},a))})]})]})]})};export{C as default};
//# sourceMappingURL=MarginaliaSidebar-CgaFnjof.js.map
